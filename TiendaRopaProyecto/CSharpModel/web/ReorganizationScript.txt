CREATE TABLE [Ventas_inventarioDetalle_venta] ([IDVENTA] decimal( 12) NOT NULL , [IDDETALLEVENTAPRODUCTO] decimal( 12) NOT NULL , [IDPRODUCTO] decimal( 12) NOT NULL , PRIMARY KEY([IDVENTA], [IDDETALLEVENTAPRODUCTO]))
CREATE NONCLUSTERED INDEX [IVENTAS_INVENTARIODETALLE_VEN1] ON [Ventas_inventarioDetalle_venta] ([IDPRODUCTO] )

CREATE TABLE [Ventas_inventario] ([IDVENTA] decimal( 12) NOT NULL IDENTITY(1,1), [FECHAVENTA] datetime NOT NULL , [DESCRIPCIONVENTA] nvarchar(255) NOT NULL , [IDEMPLEADO] decimal( 12) NOT NULL , [IDCLIENTE] decimal( 12) NOT NULL , [DESCUENTOVENTA] money NOT NULL , PRIMARY KEY([IDVENTA]))
CREATE NONCLUSTERED INDEX [IVENTAS_INVENTARIO1] ON [Ventas_inventario] ([IDCLIENTE] )
CREATE NONCLUSTERED INDEX [IVENTAS_INVENTARIO2] ON [Ventas_inventario] ([IDEMPLEADO] )

CREATE TABLE [Compra_inventarioDetalle_compr] ([IDCOMPRA] decimal( 12) NOT NULL , [IDETALLECOMPRAPRODUCTO] decimal( 12) NOT NULL , [IDPRODUCTO] decimal( 12) NOT NULL , PRIMARY KEY([IDCOMPRA], [IDETALLECOMPRAPRODUCTO]))
CREATE NONCLUSTERED INDEX [ICOMPRA_INVENTARIODETALLE_COM1] ON [Compra_inventarioDetalle_compr] ([IDPRODUCTO] )

CREATE TABLE [Compra_inventario] ([IDCOMPRA] decimal( 12) NOT NULL IDENTITY(1,1), [FECHACOMPRA] datetime NOT NULL , [DESCRIPCIONCOMPRA] nvarchar(255) NOT NULL , [IDPROVEEDOR] decimal( 12) NOT NULL , [IDEMPLEADO] decimal( 12) NOT NULL , PRIMARY KEY([IDCOMPRA]))
CREATE NONCLUSTERED INDEX [ICOMPRA_INVENTARIO1] ON [Compra_inventario] ([IDPROVEEDOR] )
CREATE NONCLUSTERED INDEX [ICOMPRA_INVENTARIO2] ON [Compra_inventario] ([IDEMPLEADO] )

CREATE TABLE [Tipo_proveedor] ([IDTIPOPROVEEDOR] decimal( 12) NOT NULL IDENTITY(1,1), [DESCRIPCIONTIPOPROVEEDOR] nvarchar(255) NOT NULL , PRIMARY KEY([IDTIPOPROVEEDOR]))

CREATE TABLE [ProveedoresTipo_proveedor] ([IDPROVEEDOR] decimal( 12) NOT NULL , [IDTIPOPROVEEDOR] decimal( 12) NOT NULL , PRIMARY KEY([IDPROVEEDOR], [IDTIPOPROVEEDOR]))
CREATE NONCLUSTERED INDEX [IPROVEEDORESTIPO_PROVEEDOR1] ON [ProveedoresTipo_proveedor] ([IDTIPOPROVEEDOR] )

CREATE TABLE [Proveedores] ([IDPROVEEDOR] decimal( 12) NOT NULL IDENTITY(1,1), [NOMBREPROVEEDOR] nvarchar(255) NOT NULL , [TELEFONOPROVEEDOR] nchar(20) NOT NULL , [CORREOPROVEEDOR] nvarchar(100) NOT NULL , [DIRECCIONPROVEEDOR] nvarchar(255) NOT NULL , PRIMARY KEY([IDPROVEEDOR]))

CREATE TABLE [Marca_producto] ([IDMARCAPRODUCTO] decimal( 12) NOT NULL IDENTITY(1,1), [DESCRIPCIONMARCAPRODUCTO] nvarchar(255) NOT NULL , PRIMARY KEY([IDMARCAPRODUCTO]))

CREATE TABLE [Categoria_producto] ([IDCATEGORIAPRODUCTO] decimal( 12) NOT NULL IDENTITY(1,1), [DESCRIPCIONCATEGORIAPRODUCTO] nvarchar(255) NOT NULL , PRIMARY KEY([IDCATEGORIAPRODUCTO]))

CREATE TABLE [Estado_producto] ([IDESTADOPRODUCTO] decimal( 12) NOT NULL IDENTITY(1,1), [DESCRIPCIONESTADOPRODUCTO] nvarchar(255) NOT NULL , PRIMARY KEY([IDESTADOPRODUCTO]))

CREATE TABLE [Inventario] ([IDPRODUCTO] decimal( 12) NOT NULL IDENTITY(1,1), [DESCRIPCIONPRODUCTO] nvarchar(255) NOT NULL , [CANTIDADPRODUCTO] decimal( 12) NOT NULL , [PRECIOCOMPRAPRODUCTO] money NOT NULL , [PRECIOVENTAPRODUCTO] money NOT NULL , [IDESTADOPRODUCTO] decimal( 12) NOT NULL , [IDCATEGORIAPRODUCTO] decimal( 12) NOT NULL , [IDMARCAPRODUCTO] decimal( 12) NOT NULL , PRIMARY KEY([IDPRODUCTO]))
CREATE NONCLUSTERED INDEX [IINVENTARIO2] ON [Inventario] ([IDESTADOPRODUCTO] )
CREATE NONCLUSTERED INDEX [IINVENTARIO1] ON [Inventario] ([IDCATEGORIAPRODUCTO] )
CREATE NONCLUSTERED INDEX [IINVENTARIO3] ON [Inventario] ([IDMARCAPRODUCTO] )

CREATE TABLE [Clientes] ([IDCLIENTE] decimal( 12) NOT NULL IDENTITY(1,1), [NOMBRECOMPLETOCLIENTE] nvarchar(255) NOT NULL , [USUARIOCLIENTE] nvarchar(255) NOT NULL , [CONTRASENACLIENTE] nvarchar(255) NOT NULL , [TELEFONOCLIENTE] nchar(20) NOT NULL , [CORREOCLIENTE] nvarchar(100) NOT NULL , [FECHANACIMIENTOCLIENTE] datetime NOT NULL , [DIRECCIONCLIENTE] nvarchar(255) NOT NULL , [FECHAREGISTROCLIENTE] datetime NOT NULL , [FOTOCLIENTE] VARBINARY(MAX) NOT NULL , [FOTOCLIENTE_GXI] varchar(2048) NULL , PRIMARY KEY([IDCLIENTE]))

CREATE TABLE [Estado_empleado] ([IDESTADOEMPLEADO] decimal( 12) NOT NULL IDENTITY(1,1), [DESCRIPCIONESTADOEMPLEADO] nvarchar(255) NOT NULL , PRIMARY KEY([IDESTADOEMPLEADO]))

CREATE TABLE [Tipo_empleado] ([IDTIPOEMPLEADO] decimal( 12) NOT NULL IDENTITY(1,1), [DESCRIPCIONTIPOEMPLEADO] nvarchar(255) NOT NULL , PRIMARY KEY([IDTIPOEMPLEADO]))

CREATE TABLE [Empleados] ([IDEMPLEADO] decimal( 12) NOT NULL IDENTITY(1,1), [NOMBRECOMPLETOEMPLEADO] nvarchar(255) NOT NULL , [USUARIOEMPLEADO] nvarchar(255) NOT NULL , [CONTRASENAEMPLEADO] nvarchar(255) NOT NULL , [TELEFONOEMPLEADO] nchar(20) NOT NULL , [FECHACONTRATACIONEMPLEADO] datetime NOT NULL , [CORREOEMPLEADO] nvarchar(100) NOT NULL , [DIRECCIONEMPLEADO] nvarchar(255) NOT NULL , [FOTOEMPLEADO] VARBINARY(MAX) NOT NULL , [FOTOEMPLEADO_GXI] varchar(2048) NULL , [IDTIPOEMPLEADO] decimal( 12) NOT NULL , [IDESTADOEMPLEADO] decimal( 12) NOT NULL , PRIMARY KEY([IDEMPLEADO]))
CREATE NONCLUSTERED INDEX [IEMPLEADOS1] ON [Empleados] ([IDTIPOEMPLEADO] )
CREATE NONCLUSTERED INDEX [IEMPLEADOS2] ON [Empleados] ([IDESTADOEMPLEADO] )

ALTER TABLE [Empleados] ADD CONSTRAINT [IEMPLEADOS1] FOREIGN KEY ([IDTIPOEMPLEADO]) REFERENCES [Tipo_empleado] ([IDTIPOEMPLEADO])
ALTER TABLE [Empleados] ADD CONSTRAINT [IEMPLEADOS2] FOREIGN KEY ([IDESTADOEMPLEADO]) REFERENCES [Estado_empleado] ([IDESTADOEMPLEADO])

ALTER TABLE [Inventario] ADD CONSTRAINT [IINVENTARIO2] FOREIGN KEY ([IDESTADOPRODUCTO]) REFERENCES [Estado_producto] ([IDESTADOPRODUCTO])
ALTER TABLE [Inventario] ADD CONSTRAINT [IINVENTARIO1] FOREIGN KEY ([IDCATEGORIAPRODUCTO]) REFERENCES [Categoria_producto] ([IDCATEGORIAPRODUCTO])
ALTER TABLE [Inventario] ADD CONSTRAINT [IINVENTARIO3] FOREIGN KEY ([IDMARCAPRODUCTO]) REFERENCES [Marca_producto] ([IDMARCAPRODUCTO])

ALTER TABLE [ProveedoresTipo_proveedor] ADD CONSTRAINT [IPROVEEDORESTIPO_PROVEEDOR2] FOREIGN KEY ([IDPROVEEDOR]) REFERENCES [Proveedores] ([IDPROVEEDOR])
ALTER TABLE [ProveedoresTipo_proveedor] ADD CONSTRAINT [IPROVEEDORESTIPO_PROVEEDOR1] FOREIGN KEY ([IDTIPOPROVEEDOR]) REFERENCES [Tipo_proveedor] ([IDTIPOPROVEEDOR])

ALTER TABLE [Compra_inventario] ADD CONSTRAINT [ICOMPRA_INVENTARIO1] FOREIGN KEY ([IDPROVEEDOR]) REFERENCES [Proveedores] ([IDPROVEEDOR])
ALTER TABLE [Compra_inventario] ADD CONSTRAINT [ICOMPRA_INVENTARIO2] FOREIGN KEY ([IDEMPLEADO]) REFERENCES [Empleados] ([IDEMPLEADO])

ALTER TABLE [Compra_inventarioDetalle_compr] ADD CONSTRAINT [ICOMPRA_INVENTARIODETALLE_COM2] FOREIGN KEY ([IDCOMPRA]) REFERENCES [Compra_inventario] ([IDCOMPRA])
ALTER TABLE [Compra_inventarioDetalle_compr] ADD CONSTRAINT [ICOMPRA_INVENTARIODETALLE_COM1] FOREIGN KEY ([IDPRODUCTO]) REFERENCES [Inventario] ([IDPRODUCTO])

ALTER TABLE [Ventas_inventario] ADD CONSTRAINT [IVENTAS_INVENTARIO2] FOREIGN KEY ([IDEMPLEADO]) REFERENCES [Empleados] ([IDEMPLEADO])
ALTER TABLE [Ventas_inventario] ADD CONSTRAINT [IVENTAS_INVENTARIO1] FOREIGN KEY ([IDCLIENTE]) REFERENCES [Clientes] ([IDCLIENTE])

ALTER TABLE [Ventas_inventarioDetalle_venta] ADD CONSTRAINT [IVENTAS_INVENTARIODETALLE_VEN2] FOREIGN KEY ([IDVENTA]) REFERENCES [Ventas_inventario] ([IDVENTA])
ALTER TABLE [Ventas_inventarioDetalle_venta] ADD CONSTRAINT [IVENTAS_INVENTARIODETALLE_VEN1] FOREIGN KEY ([IDPRODUCTO]) REFERENCES [Inventario] ([IDPRODUCTO])

