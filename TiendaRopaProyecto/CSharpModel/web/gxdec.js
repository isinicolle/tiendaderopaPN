gx.num.dec={bigDecimal:function(n,t,i){var l,s,o,f,c,r,u,e,h;if(this.div=function(n,t){return(n-n%t)/t},this.arraycopy=function(n,t,i,r,u){var f;if(r>t)for(f=u-1;0<=f;--f)i[f+r]=n[f+t];else for(f=0;f<u;++f)i[f+r]=n[f+t]},this.createArrayWithZeros=function(n){for(var i=Array(n),t=0;t<n;++t)i[t]=0;return i},this.abs=function(n){return"undefined"==typeof n&&(n=this.plainMC),this.ind==this.isneg?this.negate(n):this.plus(n)},this.add=function(n,t){var f,r,u,s,e,h,o,i;"undefined"==typeof t&&(t=this.plainMC);i=0;r=i=0;var i=null,c=i=0,y=0,a=0,l=0,v=0;if(t.lostDigits&&this.checkdigits(n,t.digits),f=this,0==f.ind&&t.form!=gx.num.dec.PLAIN)return n.plus(t);if(0==n.ind&&t.form!=gx.num.dec.PLAIN)return f.plus(t);if(r=t.digits,0<r&&(f.mant.length>r&&(f=this.clone(f).round(t)),n.mant.length>r&&(n=this.clone(n).round(t))),u=new gx.num.dec.bigDecimal,s=f.mant,e=f.mant.length,h=n.mant,o=n.mant.length,f.exp==n.exp)u.exp=f.exp;else if(f.exp>n.exp){if(i=e+f.exp-n.exp,i>=o+r+1&&0<r)return u.mant=s,u.exp=f.exp,u.ind=f.ind,e<r&&(u.mant=this.extend(f.mant,r),u.exp-=r-e),u.finish(t,!1);u.exp=n.exp;i>r+1&&0<r&&(i=i-r-1,o-=i,u.exp+=i,i=r+1);i>e&&(e=i)}else{if(i=o+n.exp-f.exp,i>=e+r+1&&0<r)return u.mant=h,u.exp=n.exp,u.ind=n.ind,o<r&&(u.mant=this.extend(n.mant,r),u.exp-=r-o),u.finish(t,!1);u.exp=f.exp;i>r+1&&0<r&&(i=i-r-1,e-=i,u.exp+=i,i=r+1);i>o&&(o=i)}if(u.ind=f.ind==this.iszero?this.ispos:f.ind,(f.ind==this.isneg?1:0)==(n.ind==this.isneg?1:0))r=1;else do{r=-1;do if(n.ind!=this.iszero)if(e<o||f.ind==this.iszero)i=s,s=h,h=i,i=e,e=o,o=i,u.ind=-u.ind;else if(!(e>o)){c=i=0;y=s.length-1;a=h.length-1;n:for(;;){if(i<=y)l=s[i];else{if(c>a){if(t.form!=gx.num.dec.PLAIN)return new gx.num.dec.bigDecimal("0");break n}l=0}if(v=c<=a?h[c]:0,l!=v){l<v&&(i=s,s=h,h=i,i=e,e=o,o=i,u.ind=-u.ind);break n}i++;c++}}while(0)}while(0);return u.mant=this.byteaddsub(s,e,h,o,r,!1),u.finish(t,!1)},this.compareTo=function(n,t){var r,i;if("undefined"==typeof t&&(t=this.plainMC),i=0,i=0,t.lostDigits&&this.checkdigits(n,t.digits),this.ind==n.ind&&this.exp==n.exp){if(i=this.mant.length,i<n.mant.length)return-this.ind;if(i>n.mant.length)return this.ind;if(i<=t.digits||0==t.digits){for(r=i,i=0;0<r;r--,i++){if(this.mant[i]<n.mant[i])return-this.ind;if(this.mant[i]>n.mant[i])return this.ind}return 0}}else{if(this.ind<n.ind)return-1;if(this.ind>n.ind)return 1}return i=this.clone(n),i.ind=-i.ind,this.add(i,t).ind},this.divide=function(n,t,i){var r=-1;if("undefined"!=typeof t)"number"==typeof t&&(t=new gx.num.dec.mthctx(0,gx.num.dec.PLAIN,!1,t));else if("undefined"!=typeof i){if(r=t,0>r)throw"divide(): Negative scale: "+r;t=new gx.num.dec.mthctx(0,gx.num.dec.PLAIN,!1,i)}else"undefined"==typeof t&&(t=this.plainMC);return this.dodivide("D",n,t,r)},this.divideInteger=function(n,t){return"undefined"==typeof t&&(t=this.plainMC),this.dodivide("I",n,t,0)},this.max=function(n,t){return"undefined"==typeof t&&(t=this.plainMC),0<=this.compareTo(n,t)?this.plus(t):n.plus(t)},this.min=function(n,t){return"undefined"==typeof t&&(t=this.plainMC),0>=this.compareTo(n,t)?this.plus(t):n.plus(t)},this.multiply=function(n,t){"undefined"==typeof t&&(t=this.plainMC);var i,f,r,e=r=null,o,u=0,s,c=0,h=0;t.lostDigits&&this.checkdigits(n,t.digits);i=this;f=0;r=t.digits;0<r?(i.mant.length>r&&(i=this.clone(i).round(t)),n.mant.length>r&&(n=this.clone(n).round(t))):(0<i.exp&&(f+=i.exp),0<n.exp&&(f+=n.exp));i.mant.length<n.mant.length?(r=i.mant,e=n.mant):(r=n.mant,e=i.mant);o=r.length+e.length-1;u=9<r[0]*e[0]?o+1:o;s=new gx.num.dec.bigDecimal;for(var u=this.createArrayWithZeros(u),l=r.length,c=0;0<l;l--,c++)h=r[c],0!=h&&(u=this.byteaddsub(u,u.length,e,o,h,!0)),o--;return s.ind=i.ind*n.ind,s.exp=i.exp+n.exp-f,s.mant=0==f?u:this.extend(u,u.length+f),s.finish(t,!1)},this.negate=function(n){"undefined"==typeof n&&(n=this.plainMC);var t;return n.lostDigits&&this.checkdigits(null,n.digits),t=this.clone(this),t.ind=-t.ind,t.finish(n,!1)},this.plus=function(n){return"undefined"==typeof n&&(n=this.plainMC),n.lostDigits&&this.checkdigits(null,n.digits),n.form==gx.num.dec.PLAIN&&this.form==gx.num.dec.PLAIN&&(this.mant.length<=n.digits||0==n.digits)?this:this.clone(this).finish(n,!1)},this.pow=function(n,t){"undefined"==typeof t&&(t=this.plainMC);var u,f,i,r=i=0,e,o=0;if(t.lostDigits&&this.checkdigits(n,t.digits),u=n.intcheck(this.MinArg,this.MaxArg),f=this,i=t.digits,0==i){if(n.ind==this.isneg)throw"pow(): Negative power: "+n.toString();i=0}else{if(n.mant.length+n.exp>i)throw"pow(): Too many digits: "+n.toString();f.mant.length>i&&(f=this.clone(f).round(t));r=n.mant.length+n.exp;i=i+r+1}if(i=new gx.num.dec.mthctx(i,t.form,!1,t.roundingMode),r=new gx.num.dec.bigDecimal("1"),0==u)return r;0>u&&(u=-u);e=!1;o=1;n:for(;;o++){if(u+=u,0>u&&(e=!0,r=r.multiply(f,i)),31==o)break n;e&&(r=r.multiply(r,i))}return 0>n.ind&&(r=new gx.num.dec.bigDecimal("1").divide(r,i)),r.finish(t,!0)},this.remainder=function(n,t){return"undefined"==typeof t&&(t=this.plainMC),this.dodivide("R",n,t,-1)},this.substract=function(n,t){"undefined"==typeof t&&(t=this.plainMC);var i;return t.lostDigits&&this.checkdigits(n,t.digits),i=this.clone(n),i.ind=-i.ind,this.add(i,t)},this.equals=function(n){var t=0,i=null,r=null;if(null==n||!(n instanceof gx.num.dec.bigDecimal)||this.ind!=n.ind)return!1;if(this.mant.length==n.mant.length&&this.exp==n.exp&&this.form==n.form){for(i=this.mant.length,t=0;0<i;i--,t++)if(this.mant[t]!=n.mant[t])return!1}else{if(i=this.layout(),r=n.layout(),i.length!=r.length)return!1;for(n=i.length,t=0;0<n;n--,t++)if(i[t]!=r[t])return!1}return!0},this.format=function(n,t,i,r,u,f){"undefined"==typeof i&&(r=i=-1,u=gx.num.dec.SCIENTIFIC,f=gx.num.dec.ROUND_HALF_UP);var e,o=0,o=o=0,s=null,h=s=o=0;if(e=0,o=null,h=s=0,(-1>n||0==n)&&this.badarg("format",1,n),-1>t&&this.badarg("format",2,t),(-1>i||0==i)&&this.badarg("format",3,i),-1>r&&this.badarg("format",4,r),u!=gx.num.dec.SCIENTIFIC&&u!=gx.num.dec.ENGINEERING&&(-1==u?u=gx.num.dec.SCIENTIFIC:this.badarg("format",5,u)),f!=gx.num.dec.ROUND_HALF_UP)try{-1==f?f=gx.num.dec.ROUND_HALF_UP:new gx.num.dec.mthctx(9,gx.num.dec.SCIENTIFIC,!1,f)}catch(c){this.badarg("format",6,f)}if(e=this.clone(this),-1==r?e.form=gx.num.dec.PLAIN:e.ind==this.iszero?e.form=gx.num.dec.PLAIN:(o=e.exp+e.mant.length,e.form=o>r?u:-5>o?u:gx.num.dec.PLAIN),0<=t)n:for(;;){if(e.form==gx.num.dec.PLAIN?o=-e.exp:e.form==gx.num.dec.SCIENTIFIC?o=e.mant.length-1:(o=(e.exp+e.mant.length-1)%3,0>o&&(o=3+o),o++,o=o>=e.mant.length?0:e.mant.length-o),o==t)break n;if(o<t){if(s=this.extend(e.mant,e.mant.length+t-o),e.mant=s,e.exp-=t-o,e.exp<this.MinExp)throw"format(): Exponent Overflow: "+e.exp;break n}if(o-=t,o>e.mant.length){e.mant=new gx.num.dec.bigDecimal("0").mant;e.ind=this.iszero;e.exp=0;continue n}if(s=e.mant.length-o,h=e.exp,e.round(s,f),e.exp-h==o)break n}if(t=e.layout(),0<n){r=t.length;e=0;n:for(;0<r;r--,e++){if("."==t[e])break n;if("E"==t[e])break n}if(e>n&&this.badarg("format",1,n),e<n){for(o=Array(t.length+n-e),n-=e,s=0;0<n;n--,s++)o[s]=" ";this.arraycopy(t,0,o,s,t.length);t=o}}if(0<i){n=t.length-1;e=t.length-1;n:for(;0<n;n--,e--)if("E"==t[e])break n;if(0==e){for(o=Array(t.length+i+2),this.arraycopy(t,0,o,0,t.length),i+=2,s=t.length;0<i;i--,s++)o[s]=" ";t=o}else if(h=t.length-e-2,h>i&&this.badarg("format",3,i),h<i){for(o=Array(t.length+i-h),this.arraycopy(t,0,o,0,e+2),i-=h,s=e+2;0<i;i--,s++)o[s]="0";this.arraycopy(t,e+2,o,s,h);t=o}}return t.join("")},this.intValueExact=function(){var n,r=0,t,i=0,u;if(n=0,this.ind==this.iszero)return 0;if(n=this.mant.length-1,0>this.exp){if(n+=this.exp,!this.allzero(this.mant,n+1))throw"intValueExact(): Decimal part non-zero: "+this.toString();if(0>n)return 0;r=0}else{if(9<this.exp+n)throw"intValueExact(): Conversion overflow: "+this.toString();r=this.exp}for(t=0,u=n+r,i=0;i<=u;i++)t*=10,i<=n&&(t+=this.mant[i]);if(9==n+r&&(n=div(t,1e9),n!=this.mant[0])){if(-2147483648==t&&this.ind==this.isneg&&2==this.mant[0])return t;throw"intValueExact(): Conversion overflow: "+this.toString();}return this.ind==this.ispos?t:-t},this.movePointLeft=function(n){var t;return t=this.clone(this),t.exp-=n,t.finish(this.plainMC,!1)},this.movePointRight=function(n){var t;return t=this.clone(this),t.exp+=n,t.finish(this.plainMC,!1)},this.scale=function(){return 0<=this.exp?0:-this.exp},this.setScale=function(n,t){"undefined"==typeof t&&(t=gx.num.dec.ROUND_UNNECESSARY);var r,i;if(r=r=0,r=this.scale(),r==n&&this.form==gx.num.dec.PLAIN)return this;if(i=this.clone(this),r<=n)r=0==r?i.exp+n:n-r,i.mant=this.extend(i.mant,i.mant.length+r),i.exp=-n;else{if(0>n)throw"setScale(): Negative scale: "+n;r=i.mant.length-(r-n);i=i.round(r,t);i.exp!=-n&&(i.mant=this.extend(i.mant,i.mant.length+1),i.exp-=1)}return i.form=gx.num.dec.PLAIN,i},this.signum=function(){return this.ind},this.toString=function(){return this.layout().join("")},this.toFixed=function(n){return this.setScale(n,gx.num.dec.ROUND_UP).toString()},this.layout=function(){var n,i=0,i=null,r=0,t=0,u,f;for(n=0,t=null,i=0,n=Array(this.mant.length),r=this.mant.length,i=0;0<r;r--,i++)n[i]=this.mant[i]+"";if(this.form!=gx.num.dec.PLAIN){if(i="",this.ind==this.isneg&&(i+="-"),r=this.exp+n.length-1,this.form==gx.num.dec.SCIENTIFIC)i+=n[0],1<n.length&&(i+="."),i+=n.slice(1).join("");else if(t=r%3,0>t&&(t=3+t),r-=t,t++,t>=n.length)for(i+=n.join(""),n=t-n.length;0<n;n--)i+="0";else i+=n.slice(0,t).join(""),i=i+"."+n.slice(t).join("");return 0!=r&&(0>r?(n="-",r=-r):n="+",i=i+"E"+n+r),i.split("")}if(0==this.exp)return 0<=this.ind?n:(t=Array(n.length+1),t[0]="-",this.arraycopy(n,0,t,1,n.length),t);if(r=this.ind==this.isneg?1:0,u=this.exp+n.length,1>u){for(i=r+2-this.exp,t=Array(i),0!=r&&(t[0]="-"),t[r]="0",t[r+1]=".",f=-u,i=r+2;0<f;f--,i++)t[i]="0";return this.arraycopy(n,0,t,r+2-u,n.length),t}if(u>n.length){for(t=Array(r+u),0!=r&&(t[0]="-"),this.arraycopy(n,0,t,r,n.length),u-=n.length,i=r+n.length;0<u;u--,i++)t[i]="0";return t}return i=r+1+n.length,t=Array(i),0!=r&&(t[0]="-"),this.arraycopy(n,0,t,r,u),t[r+u]=".",this.arraycopy(n,u,t,r+u+1,n.length-u),t},this.intcheck=function(n,t){var i;if(i=this.intValueExact(),i<n||i>t)throw"intcheck(): Conversion overflow: "+i;return i},this.dodivide=function(n,t,i,r){var f,e,s,u,h,c,l,v,p,a=0,o=0,y=0,w;if(e=e=o=o=o=0,f=null,f=f=0,f=null,i.lostDigits&&this.checkdigits(t,i.digits),f=this,0==t.ind)throw"dodivide(): Divide by 0";if(0==f.ind)return i.form!=gx.num.dec.PLAIN?new gx.num.dec.bigDecimal("0"):-1==r?f:f.setScale(r);if(e=i.digits,0<e?(f.mant.length>e&&(f=this.clone(f).round(i)),t.mant.length>e&&(t=this.clone(t).round(i))):(-1==r&&(r=f.scale()),e=f.mant.length,r!=-f.exp&&(e=e+r+f.exp),e=e-(t.mant.length-1)-t.exp,e<f.mant.length&&(e=f.mant.length),e<t.mant.length)&&(e=t.mant.length),s=f.exp-t.exp+f.mant.length-t.mant.length,0>s&&"D"!=n)return"I"==n?new gx.num.dec.bigDecimal("0"):this.clone(f).finish(i,!1);u=new gx.num.dec.bigDecimal;u.ind=f.ind*t.ind;u.exp=s;u.mant=this.createArrayWithZeros(e+1);h=e+e+1;s=this.extend(f.mant,h);c=h;l=t.mant;v=h;p=10*l[0]+1;1<l.length&&(p+=l[1]);h=0;n:for(;;){a=0;t:for(;;){if(c<v)break t;if(c==v){i:{for(w=c,o=0;0<w;w--,o++){if(y=o<l.length?l[o]:0,s[o]<y)break t;if(s[o]>y)break i}a++;u.mant[h]=a;h++;s[0]=0;break n}o=s[0]}else o=10*s[0],1<c&&(o+=s[1]);if(o=div(10*o,p),0==o&&(o=1),a+=o,s=this.byteaddsub(s,c,l,v,-o,!0),0==s[0]){y=c-2;o=0;i:for(;o<=y;o++){if(0!=s[o])break i;c--}0!=o&&this.arraycopy(s,o,s,0,c)}}if(0!=h||0!=a){if(u.mant[h]=a,h++,h==e+1)break n;if(0==s[0])break n}if(0<=r&&-u.exp>r)break n;if("D"!=n&&0>=u.exp)break n;u.exp-=1;v--}if(0==h&&(h=1),"I"==n||"R"==n){if(h+u.exp>e)throw"dodivide(): Integer overflow";if("R"==n){if(0==u.mant[0])return this.clone(f).finish(i,!1);if(0==s[0])return new gx.num.dec.bigDecimal("0");u.ind=f.ind;e=e+e+1-f.mant.length;u.exp=u.exp-e+f.exp;e=c;o=e-1;n:for(;1<=o&&u.exp<f.exp&&u.exp<t.exp;o--){if(0!=s[o])break n;e--;u.exp+=1}return e<s.length&&(f=Array(e),this.arraycopy(s,0,f,0,e),s=f),u.mant=s,u.finish(i,!1)}}else 0!=s[0]&&(f=u.mant[h-1],0==f%5&&(u.mant[h-1]=f+1));if(0<=r)return h!=u.mant.length&&(u.exp-=u.mant.length-h),f=u.mant.length-(-u.exp-r),u.round(f,i.roundingMode),u.exp!=-r&&(u.mant=this.extend(u.mant,u.mant.length+1),u.exp-=1),u.finish(i,!0);if(h==u.mant.length)u.round(i);else{if(0==u.mant[0])return new gx.num.dec.bigDecimal("0");f=Array(h);this.arraycopy(u.mant,0,f,0,h);u.mant=f}return u.finish(i,!0)},this.bad=function(n,t){throw n+"Not a number: "+t;},this.badarg=function(n,t,i){throw"Bad argument "+t+" to "+n+": "+i;},this.extend=function(n,t){var i;return n.length==t?n:(i=createArrayWithZeros(t),this.arraycopy(n,0,i,0,n.length),i)},this.byteaddsub=function(n,t,i,r,u,f){var s,a,h,o,l,e,c=0;s=e=0;s=n.length;a=i.length;t-=1;o=h=r-1;o<t&&(o=t);r=null;f&&o+1==s&&(r=n);null==r&&(r=this.createArrayWithZeros(o+1));l=!1;1==u?l=!0:-1==u&&(l=!0);e=0;c=o;n:for(;0<=c;c--){if(0<=t&&(t<s&&(e+=n[t]),t--),0<=h&&(h<a&&(e=l?0<u?e+i[h]:e-i[h]:e+i[h]*u),h--),10>e&&0<=e){r[c]=e;e=0;continue n}e+=90;r[c]=this.diginit()[e];e=this.bytecar[e]}if(0==e)return r;for(i=null,f&&o+2==n.length&&(i=n),null==i&&(i=Array(o+2)),i[0]=e,n=o+1,s=0;0<n;n--,s++)i[s+1]=r[s];return i},this.diginit=function(){var i,n=0,t=0;i=Array(190);n=0;n:for(;189>=n;n++){if(t=n-90,0<=t){i[n]=t%10;this.bytecar[n]=this.div(t,10);continue n}t+=100;i[n]=t%10;this.bytecar[n]=this.div(t,10)-10}return i},this.clone=function(n){var t;return t=new gx.num.dec.bigDecimal,t.ind=n.ind,t.exp=n.exp,t.form=n.form,t.mant=n.mant,t},this.checkdigits=function(n,t){if(0!=t){if(this.mant.length>t&&!this.allzero(this.mant,t))throw"Too many digits: "+this.toString();if(null!=n&&n.mant.length>t&&!this.allzero(n.mant,t))throw"Too many digits: "+n.toString();}},this.round=function(n,t){if("undefined"==typeof t)var i=n,n=i.digits,t=i.roundingMode;var u,e=!1,f=0,r,i=null,i=this.mant.length-n;if(0>=i)return this;if(this.exp+=i,i=this.ind,u=this.mant,0<n?(this.mant=Array(n),this.arraycopy(u,0,this.mant,0,n),e=!0,f=u[n]):(this.mant=new gx.num.dec.bigDecimal("0").mant,this.ind=this.iszero,e=!1,f=0==n?u[0]:0),r=0,t==gx.num.dec.ROUND_HALF_UP)5<=f&&(r=i);else if(t==gx.num.dec.ROUND_UNNECESSARY){if(!this.allzero(u,n))throw"round(): Rounding necessary";}else if(t==gx.num.dec.ROUND_HALF_DOWN)5<f?r=i:5==f&&(this.allzero(u,n+1)||(r=i));else if(t==gx.num.dec.ROUND_HALF_EVEN)5<f?r=i:5==f&&(this.allzero(u,n+1)?1==this.mant[this.mant.length-1]%2&&(r=i):r=i);else if(t!=gx.num.dec.ROUND_DOWN)if(t==gx.num.dec.ROUND_UP)this.allzero(u,n)||(r=i);else if(t==gx.num.dec.ROUND_CEILING)0<i&&(this.allzero(u,n)||(r=i));else if(t==gx.num.dec.ROUND_FLOOR)0>i&&(this.allzero(u,n)||(r=i));else throw"round(): Bad round value: "+t;if(0!=r&&(this.ind==this.iszero?(this.mant=new gx.num.dec.bigDecimal("1").mant,this.ind=r):(this.ind==this.isneg&&(r=-r),i=this.byteaddsub(this.mant,this.mant.length,new gx.num.dec.bigDecimal("1").mant,1,r,e),i.length>this.mant.length?(this.exp++,this.arraycopy(i,0,this.mant,0,this.mant.length)):this.mant=i)),this.exp>this.MaxExp)throw"round(): Exponent Overflow: "+this.exp;return this},this.allzero=function(n,t){var i=0,r;for(0>t&&(t=0),r=n.length-1,i=t;i<=r;i++)if(0!=n[i])return!1;return!0},this.finish=function(n,t){var r=0,i=0,u=null,r=i=0;if(0!=n.digits&&this.mant.length>n.digits&&this.round(n),t&&n.form!=gx.num.dec.PLAIN){r=this.mant.length;i=r-1;n:for(;1<=i;i--){if(0!=this.mant[i])break n;r--;this.exp++}r<this.mant.length&&(u=Array(r),this.arraycopy(this.mant,0,u,0,r),this.mant=u)}for(this.form=gx.num.dec.PLAIN,r=this.mant.length,i=0;0<r;r--,i++)if(0!=this.mant[i]){if(0<i&&(u=Array(this.mant.length-i),this.arraycopy(this.mant,i,u,0,this.mant.length-i),this.mant=u),i=this.exp+this.mant.length,0<i){if(i>n.digits&&0!=n.digits&&(this.form=n.form),i-1<=this.MaxExp)return this}else-5>i&&(this.form=n.form);if(i--,i<this.MinExp||i>this.MaxExp)n:{if(this.form==gx.num.dec.ENGINEERING&&(r=i%3,0>r&&(r=3+r),i-=r,i>=this.MinExp&&i<=this.MaxExp))break n;throw"finish(): Exponent Overflow: "+i;}return this}if(this.ind=this.iszero,n.form!=gx.num.dec.PLAIN)this.exp=0;else if(0<this.exp)this.exp=0;else if(this.exp<this.MinExp)throw"finish(): Exponent Overflow: "+this.exp;return this.mant=new gx.num.dec.bigDecimal("0").mant,this},this.ispos=1,this.iszero=0,this.isneg=-1,this.MinExp=-999999999,this.MaxExp=999999999,this.MinArg=-999999999,this.MaxArg=999999999,this.plainMC=new gx.num.dec.mthctx(0,gx.num.dec.PLAIN),this.bytecar=Array(190),this.ind=0,this.form=gx.num.dec.PLAIN,this.mant=null,this.exp=0,"undefined"!=typeof n){"undefined"==typeof t&&(t=0);"undefined"==typeof i&&(i=n.length);"string"==typeof n&&(n=gx.text.trim(n),n=n.split(""));r=0;u=0;s=!1;e=u=u=r=0;h=0;f=0;0>=i&&this.bad("bigDecimal(): ",n);this.ind=this.ispos;"-"==n[0]?(i--,0==i&&this.bad("bigDecimal(): ",n),this.ind=this.isneg,t++):"+"==n[0]&&(i--,0==i&&this.bad("bigDecimal(): ",n),t++);s=l=!1;o=0;c=f=-1;e=i;r=t;n:for(;0<e;e--,r++){if(u=n[r],"0"<=u&&"9">=u){c=r;o++;continue n}if("."==u){0<=f&&this.bad("bigDecimal(): ",n);f=r-t;continue n}if("e"!=u&&"E"!=u){("0">u||"9"<u)&&this.bad("bigDecimal(): ",n);l=!0;c=r;o++;continue n}for(r-t>i-2&&this.bad("bigDecimal(): ",n),s=!1,"-"==n[r+1]?(s=!0,r+=2):r="+"==n[r+1]?r+2:r+1,u=i-(r-t),(0==u||9<u)&&this.bad("bigDecimal(): ",n),i=u,u=r;0<i;i--,u++)e=n[u],"0">e&&this.bad("bigDecimal(): ",n),"9"<e?this.bad("bigDecimal(): ",n):h=+e,this.exp=10*this.exp+h;s&&(this.exp=-this.exp);s=!0;break n}0==o&&this.bad("bigDecimal(): ",n);0<=f&&(this.exp=this.exp+f-o);h=c-1;r=t;n:for(;r<=h;r++)if(u=n[r],"0"==u)t++,f--,o--;else if("."==u)t++,f--;else break n;if(this.mant=Array(o),u=t,l)for(t=o,r=0;0<t;t--,r++)r==f&&u++,e=n[u],"9">=e?this.mant[r]=+e:this.bad("bigDecimal(): ",n),u++;else for(t=o,r=0;0<t;t--,r++)r==f&&u++,this.mant[r]=n[u]-0,u++;0==this.mant[0]?(this.ind=this.iszero,0<this.exp&&(this.exp=0),s)&&(this.mant=new gx.num.dec.bigDecimal("0").mant,this.exp=0):s&&(this.form=gx.num.dec.SCIENTIFIC,f=this.exp+this.mant.length-1,(f<this.MinExp||f>this.MaxExp)&&this.bad("bigDecimal(): ",n))}},mthctx:function(n,t,i,r){if(this.getDigits=function(){return this.digits},this.getForm=function(){return this.form},this.getLostDigits=function(){return this.lostDigits},this.getRoundingMode=function(){return this.roundingMode},this.toString=function(){var r=null,n=0,t=null,r=this.form==gx.num.dec.SCIENTIFIC?"SCIENTIFIC":this.form==gx.num.dec.ENGINEERING?"ENGINEERING":"PLAIN",i=gx.num.dec.ROUNDS.length,n=0;n:for(;0<i;i--,n++)if(this.roundingMode==gx.num.dec.ROUNDS[n]){t=gx.num.dec.ROUNDWORDS[n];break n}return"digits="+this.digits+" form="+r+" lostDigits="+(this.lostDigits?"1":"0")+" roundingMode="+t},this.isValidRound=function(n){for(var t=0,i=gx.num.dec.ROUNDS.length,t=0;0<i;i--,t++)if(n==gx.num.dec.ROUNDS[t])return!0;return!1},this.form=this.digits=0,this.lostDigits=!1,this.roundingMode=0,"undefined"==typeof r&&(r=gx.num.dec.DEFAULT_ROUNDINGMODE),"undefined"==typeof i&&(i=gx.num.dec.DEFAULT_LOSTDIGITS),"undefined"==typeof t&&(t=gx.num.dec.DEFAULT_FORM),n!=gx.num.dec.DEFAULT_DIGITS){if(n<gx.num.dec.MIN_DIGITS)throw"mthctx(): Digits too small: "+n;if(n>gx.num.dec.MAX_DIGITS)throw"mthctx(): Digits too large: "+n;}if(t!=gx.num.dec.SCIENTIFIC&&t!=gx.num.dec.ENGINEERING&&t!=gx.num.dec.PLAIN)throw"mthctx() Bad form value: "+t;if(!this.isValidRound(r))throw"mthctx(): Bad roundingMode value: "+r;this.digits=n;this.form=t;this.lostDigits=i;this.roundingMode=r},PLAIN:0,SCIENTIFIC:1,ENGINEERING:2,ROUND_DOWN:1,ROUND_CEILING:2,ROUND_FLOOR:3,ROUND_HALF_DOWN:5,ROUND_HALF_EVEN:6,ROUND_HALF_UP:4,ROUND_UNNECESSARY:7,ROUND_UP:0,DEFAULT_FORM:1,DEFAULT_DIGITS:9,DEFAULT_LOSTDIGITS:!1,DEFAULT_ROUNDINGMODE:4,MIN_DIGITS:0,MAX_DIGITS:999999999,ROUNDS:[4,7,2,1,3,5,6,0],ROUNDWORDS:"ROUND_HALF_UP ROUND_UNNECESSARY ROUND_CEILING ROUND_DOWN ROUND_FLOOR ROUND_HALF_DOWN ROUND_HALF_EVEN ROUND_UP".split(" ")}